-- CREATE SEQUENCE STATEMENT

CREATE SEQUENCE IF NOT EXISTS TPCDI_WH.PUBLIC.DIM_SECURITY_SEQ   START WITH = 1   INCREMENT = 1   COMMENT = 'DATABASE SEQUENCE TO SOURCE THE SURROGATE KEY FOR SECURITY.' ; 

-- CREATE TABLE STATEMENT

CREATE OR REPLACE TABLE TPCDI_WH.PUBLIC.DIM_SECURITY ( SK_SECURITY_ID NUMBER(11) NOT NULL COMMENT 'SURROGATE KEY FOR SYMBOL' , SYMBOL CHAR(15) NOT NULL COMMENT 'IDENTIFIES SECURITY ON TICKER' , ISSUE CHAR(6) NOT NULL COMMENT 'ISSUE TYPE' , STATUS CHAR(10) NOT NULL COMMENT 'STATUS TYPE' , NAME CHAR(70) NOT NULL COMMENT 'SECURITY NAME' , EXCHANGE_ID CHAR(6) NOT NULL COMMENT 'EXCHANGE THE SECURITY IS TRADED ON' , SK_COMPANY_ID NUMBER(11) NOT NULL COMMENT 'COMPANY ISSUING SECURITY' , SHARES_OUTSTANDING NUMBER(12) NOT NULL COMMENT 'SHARES OUTSTANDING' , FIRST_TRADE DATE NOT NULL COMMENT 'DATE OF FIRST TRADE' , FIRST_TRADE_ON_EXCHANGE DATE NOT NULL COMMENT 'DATE OF FIRST TRADE ON THIS EXCHANGE' , DIVIDEND NUMBER(10,2) NOT NULL COMMENT 'ANNUAL DIVIDEND PER SHARE'  , BATCH_ID NUMBER(5) NOT NULL COMMENT 'BATCH ID WHEN THIS RECORD WAS INSERTED' , INSERTED_TS TIMESTAMP_LTZ NOT NULL COMMENT 'TIMESTAMP WHEN THIS RECORD WAS INSERTED' ) ;
