-- CREATE TABLE STATEMENT

CREATE OR REPLACE TABLE TPCDI_ODS.PUBLIC.TRADE_ODS ( T_ID NUMBER(15) NOT NULL COMMENT 'TRADE IDENTIFIER.', T_DTS DATETIME NOT NULL COMMENT 'DATE AND TIME OF TRADE.', T_DT DATE NOT NULL COMMENT 'DATE OF TRADE.', T_ST_ID CHAR(4) NOT NULL COMMENT 'STATUS TYPE IDENTIFIER', T_TT_ID CHAR(3) NOT NULL COMMENT 'TRADE TYPE IDENTIFIER', T_IS_CASH INT COMMENT 'IS THIS TRADE A CASH (1) OR MARGIN (0) TRADE?', T_S_SYMB CHAR(15) NOT NULL COMMENT 'SECURITY SYMBOL OF THE SECURITY', T_QTY NUMBER(6) COMMENT 'QUANTITY OF SECURITIES TRADED.', T_BID_PRICE NUMBER(8,2) COMMENT 'THE REQUESTED UNIT PRICE.', T_CA_ID NUMBER(11) NOT NULL COMMENT 'CUSTOMER ACCOUNT IDENTIFIER.', T_EXEC_NAME CHAR(49) NOT NULL COMMENT 'NAME OF THE PERSON EXECUTING THE TRADE.', T_TRADE_PRICE NUMBER(8,2) COMMENT 'UNIT PRICE AT WHICH THE SECURITY WAS TRADED.', T_CHRG NUMBER(10,2) COMMENT 'FEE CHARGED FOR PLACING THIS TRADE REQUEST.', T_COMM NUMBER(10,2) COMMENT 'COMMISSION EARNED ON THIS TRADE', T_TAX NUMBER(10,2) COMMENT 'AMOUNT OF TAX DUE ON THIS TRADE', LAST_UPDATED_TS TIMESTAMP_LTZ NOT NULL COMMENT 'LAST TIME THIS RECORD WAS INSERTED OR UPDATED' ) ;

CREATE OR REPLACE STREAM TPCDI_ODS.PUBLIC.TRADE_ODS_STM
ON TABLE TPCDI_ODS.PUBLIC.TRADE_ODS
;
