-- CREATE SEQUENCE STATEMENT

CREATE SEQUENCE IF NOT EXISTS TPCDI_WH.PUBLIC.DIM_CUSTOMER_SEQ   START WITH = 1   INCREMENT = 1   COMMENT = 'DATABASE SEQUENCE TO SOURCE THE SURROGATE KEY FOR CUSTOMER.' ;
 
-- CREATE TABLE STATEMENT

CREATE OR REPLACE TABLE TPCDI_WH.PUBLIC.DIM_CUSTOMER ( SK_CUSTOMER_ID NUMBER(11) NOT NULL COMMENT 'SURROGATE KEY FOR CUSTOMERID', CUSTOMER_ID NUMBER(11) NOT NULL COMMENT 'CUSTOMER IDENTIFIER', TAX_ID CHAR(20) NOT NULL COMMENT 'CUSTOMER''S TAX IDENTIFIER', STATUS CHAR(10) NOT NULL COMMENT 'CUSTOMER STATUS TYPE', LAST_NAME CHAR(30) NOT NULL COMMENT 'CUSTOMER''S LAST NAME.', FIRST_NAME CHAR(30) NOT NULL COMMENT 'CUSTOMER''S FIRST NAME.', MIDDLE_INITIAL CHAR(1) COMMENT 'CUSTOMER''S MIDDLE NAME INITIAL', GENDER CHAR(1) COMMENT 'GENDER OF THE CUSTOMER', TIER NUMBER(1) COMMENT 'CUSTOMER TIER', DOB DATE NOT NULL COMMENT 'CUSTOMER''S DATE OF BIRTH.', ADDRESS_LINE_1 CHAR(80) NOT NULL COMMENT 'ADDRESS LINE 1', ADDRESS_LINE_2 CHAR(80) COMMENT 'ADDRESS LINE 2', POSTAL_CODE CHAR(12) NOT NULL COMMENT 'ZIP OR POSTAL CODE', CITY CHAR(25) NOT NULL COMMENT 'CITY', STATE_PROV CHAR(20) NOT NULL COMMENT 'STATE OR PROVINCE', COUNTRY CHAR(24) COMMENT 'COUNTRY', PHONE1 CHAR(30) COMMENT 'PHONE NUMBER 1', PHONE2 CHAR(30) COMMENT 'PHONE NUMBER 2', PHONE3 CHAR(30) COMMENT 'PHONE NUMBER 3', EMAIL1 CHAR(100) COMMENT 'EMAIL ADDRESS 1', EMAIL2 CHAR(100) COMMENT 'EMAIL ADDRESS 2', NATIONAL_TAX_RATE_DESC CHAR(50) COMMENT 'NATIONAL TAX RATE DESCRIPTION', NATIONAL_TAX_RATE NUMBER(6,5) COMMENT 'NATIONAL TAX RATE', LOCAL_TAX_RATE_DESC CHAR(50) COMMENT 'LOCAL TAX RATE DESCRIPTION', LOCAL_TAX_RATE NUMBER(6,5) COMMENT 'LOCAL TAX RATE', AGENCY_ID CHAR(30) COMMENT 'AGENCY IDENTIFIER', CREDIT_RATING NUMBER(5) COMMENT 'CREDIT RATING', NET_WORTH NUMBER(10) COMMENT 'NET WORTH', MARKETING_NAMEPLATE CHAR(100) COMMENT 'MARKETING NAMEPLATE', BATCH_ID NUMBER(5) NOT NULL COMMENT 'BATCH ID WHEN THIS RECORD WAS INSERTED', INSERTED_TS TIMESTAMP_LTZ NOT NULL COMMENT 'TIMESTAMP WHEN THIS RECORD WAS INSERTED' ) ;
